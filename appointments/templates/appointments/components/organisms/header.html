<header class="main-header">
    <div class="mobile-spacer"></div> <div class="header-right">
        <span class="user-label">Logged in as: <strong>{{ user.username }}</strong></span>
        <form action="{% url 'logout' %}" method="post" style="margin: 0;">
            {% csrf_token %}
            <button type="submit" class="logout-link">Logout</button>
        </form>
    </div>
</header>

<style>
    .main-header {
        background: white;
        padding: 12px 30px;
        border-bottom: 1px solid #eef2f6;
        display: flex;
        justify-content: space-between;
        align-items: center;
        position: sticky;
        top: 0;
        /* Lower than drawer button (9990) and sidebar (9999) */
        z-index: 1000; 
        width: 100%;
    }

    .header-right {
        display: flex;
        align-items: center;
        gap: 15px;
        margin-left: auto;
    }

    .user-label { 
        font-size: 0.85rem; 
        color: #64748b; 
    }
    
    .logout-link {
        background: none; 
        border: none; 
        color: #e11d48; 
        font-weight: 600; 
        cursor: pointer; 
        font-size: 0.85rem;
        padding: 5px 10px;
        border-radius: 6px;
        transition: background 0.2s;
    }

    .logout-link:hover {
        background: #fff1f2;
    }

    @media (max-width: 768px) {
        .main-header { 
            padding: 10px 15px; 
            height: 60px; 
            /* Ensures it stays above dashboard content but under sidebar */
            position: fixed; 
        }

        /* Creates room for the fixed blue hamburger button */
        .mobile-spacer { 
            width: 55px; 
            display: block; 
            flex-shrink: 0;
        } 

        .user-label { 
            display: none; 
        }
    }
</style>